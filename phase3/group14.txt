CREATE TABLE PERSON 
(
  PERSON_ID VARCHAR(255) NOT NULL,
  F_NAME VARCHAR(255) NOT NULL,
  M_NAME VARCHAR(255),
  L_NAME VARCHAR(255) NOT NULL,
  ADDRESS VARCHAR(255),
  GENDER VARCHAR(255),
  BITH_DATE DATE,
  PHONE_NUMBER VARCHAR(255),
  primary key (PERSON_ID)

);

CREATE TABLE CLASS_1_PATIENT 
(
  PATIENT_ID VARCHAR(255) NOT NULL, 
  PERSON_ID VARCHAR(255) NOT NULL, 
  CLASS_2_ID VARCHAR(255), 
  EMPLOYEE_NUM VARCHAR(255), 
  primary key (PATIENT_ID),
  foreign key (PERSON_ID) references PERSON(PERSON_ID)
);

CREATE TABLE EMPLOYEE 
(
  PERSON_ID VARCHAR(255) NOT NULL, 
  EMPLOYEE_NUM VARCHAR(255) NOT NULL, 
  START_DATE DATE, 
  CLASS_2_ID VARCHAR(255), 
  primary key (EMPLOYEE_NUM),
  foreign key (PERSON_ID) references PERSON(PERSON_ID)
);

CREATE TABLE DOCTOR 
(
  EMPLOYEE_NUM VARCHAR(255) NOT NULL,
  DOC_ID VARCHAR(255),
  DOC_TYPE VARCHAR(255),
  primary key(DOC_ID),
  foreign key (EMPLOYEE_NUM) references EMPLOYEE(EMPLOYEE_NUM)
);

CREATE TABLE NURSE 
(
  EMPLOYEE_NUM VARCHAR(255) NOT NULL,
  NURSE_ID VARCHAR(255) NOT NULL,
  primary key(NURSE_ID),
  foreign key (EMPLOYEE_NUM) references EMPLOYEE(EMPLOYEE_NUM)
);

CREATE TABLE ROOM 
(
  ROOM_ID VARCHAR(255) NOT NULL,
  ROOM_TYPE VARCHAR(255), 
  ROOM_DURATION VARCHAR(255),
  NURSE_ID VARCHAR(255) NOT NULL,
  primary key(ROOM_ID),
  foreign key (NURSE_ID) references NURSE(NURSE_ID)
);

CREATE TABLE RECEPTIONIST 
(
  RECEPTIONIST_ID VARCHAR(255) NOT NULL, 
  EMPLOYEE_NUM VARCHAR(255) NOT NULL,
  primary key (RECEPTIONIST_ID),
  foreign key (EMPLOYEE_NUM) references EMPLOYEE(EMPLOYEE_NUM)  
);

CREATE TABLE RECORDS 
(
  RECORD_ID VARCHAR(255) NOT NULL,
  RECEPTIONIST_ID VARCHAR(255),
  PATIENT_ID VARCHAR(255), 
  VISIT_DATE DATE,
  APPOINTMENT DATE,
  RECORD_DESCRIPTION VARCHAR(255),
  primary key(RECORD_ID),
  foreign key (RECEPTIONIST_ID) references RECEPTIONIST(RECEPTIONIST_ID),
  foreign key (PATIENT_ID) references CLASS_1_PATIENT(PATIENT_ID)
  
);

CREATE TABLE PAYMENT 
(
  PAYMENT_ID VARCHAR2(20) NOT NULL,
  PAYMENT_DATE DATE, 
  TOTAL_AMOUNT_DUE VARCHAR(20), 
  RECEPTIONIST_ID VARCHAR(20), 
  PATIENT_ID VARCHAR(40), 
  T_ID VARCHAR(20), 
  CASH_AMOUNT VARCHAR(100), 
  I_ID VARCHAR(60), 
  I_PROVIDERID VARCHAR(100), 
  I_COVERAGE VARCHAR(250), 
  I_AMOUNT VARCHAR(100),
  primary key (PAYMENT_ID),
  foreign key (RECEPTIONIST_ID) references RECEPTIONIST(RECEPTIONIST_ID),
  foreign key (PATIENT_ID) references CLASS_1_PATIENT(PATIENT_ID)
);

alter table PAYMENT
add CLASS_2_ID varchar(255) null;

alter table PAYMENT
add foreign key (CLASS_2_ID) references CLASS_2_PATIENT(CLASS_2_ID);

alter table PAYMENT
add foreign key (T_ID) references TREATMENT(T_ID);






CREATE TABLE TREATMENT 
(
  T_ID VARCHAR(200) NOT NULL, 
  T_NAME VARCHAR(250),
  T_DURATION VARCHAR(200),
  primary key(T_ID)
);

CREATE TABLE CLASS_2_PATIENT 
(
  T_ID VARCHAR(200),
  EMPLOYEE_NUM VARCHAR(200), 
  CLASS_2_ID VARCHAR(200) NOT NULL,
  DATE_OF_ADMITTED DATE, 
  ROOM_ID VARCHAR(255),
  primary key(CLASS_2_ID),
  foreign key(T_ID) references TREATMENT(T_ID),
  foreign key(ROOM_ID) references ROOM(ROOM_ID)
);
alter table CLASS_2_PATIENT
add DOC_ID varchar(255) null;

alter table CLASS_2_PATIENT
add foreign key (DOC_ID) references DOCTOR(DOC_ID)



CREATE TABLE MEDICAL_INFORMATION 
(
  MEDICINE_CODE VARCHAR(200) NOT NULL,
  T_ID VARCHAR(200) NOT NULL,
  CLASS_2_ID VARCHAR2(200) NOT NULL,
  primary key (MEDICINE_CODE,T_ID,CLASS_2_ID),
  foreign key(T_ID) references TREATMENT(T_ID),
  foreign key(CLASS_2_ID) references CLASS_2_PATIENT(CLASS_2_ID)
);

CREATE TABLE PHARMACY 
(
  MEDICINE_CODE VARCHAR(200) NOT NULL, 
  P_PRICE VARCHAR(200), 
  P_NAME VARCHAR(200), 
  P_QUANTITY VARCHAR(200), 
  P_EXPIRECTION_DATE DATE,
  primary key(MEDICINE_CODE)
);

CREATE TABLE VISITOR_LOG 
(
  CLASS_2_ID VARCHAR(200),
  VISITOR_ID VARCHAR(200) NOT NULL,
  VISITOR_NAME VARCHAR(200),
  V_ADDRESS VARCHAR(200),
  V_CONTACT_INFO VARCHAR(200),
  primary key(VISITOR_ID),
  foreign key (CLASS_2_ID) references CLASS_2_PATIENT(CLASS_2_ID)
);

CREATE TABLE ACCESS1 
(
  DOC_ID VARCHAR(200) NOT NULL, 
  MEDICINE_CODE VARCHAR(200) NOT NULL, 
  T_ID VARCHAR(200) NOT NULL, 
  CLASS_2_ID VARCHAR(200) NOT NULL,
  primary key (DOC_ID, MEDICINE_CODE, T_ID, CLASS_2_PATIENT_ID),
  foreign key (MEDICINE_CODE, T_ID, CLASS_2_ID) references MEDICAL_INFORMATION(MEDICINE_CODE, T_ID, CLASS_2_ID),
  foreign key (DOC_ID) references DOCTOR(DOC_ID)
);


alter table CLASS_2_PATIENT
add DOC_ID varchar(255) null;

alter table CLASS_2_PATIENT
add foreign key (DOC_ID) references DOCTOR(DOC_ID)

alter table CLASS_1_PATIENT
add DOC_ID varchar(255) null;

alter table CLASS_1_PATIENT
add foreign key (DOC_ID) references DOCTOR(DOC_ID);

alter table PAYMENT
add CLASS_2_ID varchar(255) null;

alter table PAYMENT
add foreign key (CLASS_2_ID) references CLASS_2_PATIENT(CLASS_2_ID);

alter table PAYMENT
add foreign key (T_ID) references TREATMENT(T_ID);

